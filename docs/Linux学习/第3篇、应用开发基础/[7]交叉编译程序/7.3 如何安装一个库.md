# 7.3 如何安装一个库

‍

这里讲如何为开发板的编译环境安装一个库，拿freetype来举例。

> 首先确保已经拥有并配置了交叉编译工具链，参考第二篇第二章：**开发板的第一个APP**

然后就是下载库的源文件

然后执行万能交叉编译命令：

```c
./configure --host=arm-buildroot-linux-gnueabihf --prefix=$PWD/tmp
make
make install
```

> 解释：
>
> ​`**configure**`​ ** 脚本**是一个用于自动配置软件包以适应不同的编译环境和系统的脚本。它是一个重要的构建工具，通常与`autotools`​（Autoconf、Automake 和 Libtool）一起使用，用于帮助开发人员配置和生成 Makefiles 以及其他构建文件。
>
> ​`configure`​ 脚本通常允许用户指定一些配置选项，如安装目录、编译器选项、开关选项等。这些选项可用于自定义软件包的编译和安装过程，以满足特定需求。

1. ​`--host=arm-buildroot-linux-gnueabihf`​:

    * ​`--host`​ 选项用于指定目标主机体系结构。在这个示例中，`arm-buildroot-linux-gnueabihf`​ 表示你正在为 ARM 架构上的 Buildroot Linux 系统进行编译。
    * 这个参数告诉 `configure`​ 脚本生成适用于指定目标体系结构的编译规则和工具链，以确保所生成的程序能够在目标系统上正确运行。
2. ​`--prefix=$PWD/tmp`​:

    * ​`--prefix`​ 选项用于指定安装目录的前缀。在这个示例中，`$PWD/tmp`​ 表示当前工作目录下的 `tmp`​ 子目录将用作安装的根目录。
    * 这个参数告诉 `configure`​ 脚本在编译和安装时将生成的文件（可执行文件、库文件等）复制到指定的目录中。这通常用于在开发和测试阶段，将软件安装到一个特定的目录而不是系统的全局目录，以便轻松查看和测试结果。

> **make：使用交叉编译工具编译freetype库**

​`make install`​ 是一个用于在构建过程中安装软件的命令。在许多源代码管理系统和构建工具中，`make install`​ 通常是一个常见的安装目标。它的主要作用是将已经编译完成的软件或库文件复制到系统的目标安装目录中，以便用户可以在系统上运行和使用该软件。

具体来说，`make install`​ 命令通常执行以下任务：

1. 复制可执行文件：将已编译的可执行文件复制到系统的目标路径，通常是 `/usr/local/bin`​ 或其他用户指定的安装目录。
2. 复制库文件：如果软件包包含库文件，`make install`​ 也会将这些库文件复制到系统的库目录，通常是 `/usr/local/lib`​ 或其他用户指定的目录。
3. 安装头文件：如果软件包包含用于开发的头文件，`make install`​ 还会将这些头文件复制到系统的头文件目录，通常是 `/usr/local/include`​ 或其他用户指定的目录。
4. 复制配置文件：如果有配置文件，`make install`​ 通常会将这些文件复制到适当的配置目录，以便用户可以自定义软件的行为。
5. 安装文档和资源：一些软件包还会包含文档、示例代码和其他资源文件。`make install`​ 通常会将这些文件复制到系统上的适当目录，以供用户参考。

总之，`make install`​ 是安装已经构建的软件包的标准方式，将其复制到系统上的适当位置，以便用户能够访问和使用该软件。安装路径可以根据用户的需求进行自定义，通常可以通过配置脚本中的 `--prefix`​ 参数来指定。

> 然后安装完成，查看当前目录下的/tmp目录，含有相关的 文件了，确认无误，复制到交叉编译器的系统目录即可

至此，完成。
